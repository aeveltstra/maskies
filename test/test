#!/bin/bash
# Runs known wire tests.
# @author A.E.Veltstra
# @since 2.20.902.0240
# @version 2.20.902.0305
# This script assumes the following:
# 1. It lives in a child folder underneath
#    the one in which the game Maskies lives.
# 2. It has sibling files named "wire-1.txt"
#    etc.
# 3. It has a sibling program named 
#    MaskiesWireTest that checks the output
#    generated by Maskies based on a wire.
# 4. MaskiesWireTest knows each wire by name
#    and the output each expects.

list=wire-*.txt
for wirefile in $list; do
    wire=$(basename -as .txt "$wirefile")
    cat "$wirefile" | ../Maskies | tail -3 | ./MaskiesWireTest "$wire"
done
